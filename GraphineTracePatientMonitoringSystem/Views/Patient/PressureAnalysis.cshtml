@model List<GraphineTracePatientMonitoringSystem.Models.PressureReading>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Patient Pressure Analysis";
}

<div class="gt-frame">
    <h2 class="page-title">Patient Pressure Analysis</h2>

    <div class="card gt-card mb-4">
        <div class="card-body">
            <table class="table table-sm align-middle">
                <thead>
                    <tr>
                        <th>Date / Time</th>
                        <th>Metric</th>
                        <th>Value</th>
                        <th>Risk Level</th>
                        <th>Body Area</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var row in Model)
                    {
                        string badgeClass = "bg-success";
                        if (row.RiskLevel.ToLower() == "high") badgeClass = "bg-danger";
                        else if (row.RiskLevel.ToLower() == "moderate") badgeClass = "bg-warning text-dark";

                        <tr>
                            <td>@row.DateTime.ToString("dd MMM yyyy HH:mm")</td>
                            <td>@row.MetricName</td>
                            <td>@row.Value</td>
                            <td>
                                <span class="badge @badgeClass">@row.RiskLevel</span>
                            </td>
                            <td>@row.BodyArea</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>

    <div class="card gt-card">
        <div class="card-body">
            <h5 class="mb-3">Pressure Metrics Over Time</h5>
            <div class="chart-placeholder">
                Simple chart placeholder for:
                <ul class="mb-0">
                    <li>Peak Pressure Index</li>
                    <li>Contact Area %</li>
                    <li>Overall Risk Score</li>
                </ul>
            </div>
        </div>
    </div>
</div>
